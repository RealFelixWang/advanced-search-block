(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.React;var n=a.n(r),o=a(338);const c=window.wp.apiFetch;var s=a.n(c);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,c,s=[],i=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{if(!i&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(l)throw n}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const m=function(e){var t=e.keyword,a=e.categoryId,o=e.tagIds,c=(e.page,e.categories),s=e.tags,m=e.onSearch,p=e.showTags,f=(e.showPagination,i((0,r.useState)(t),2)),g=f[0],d=f[1],h=i((0,r.useState)(a),2),b=h[0],v=h[1],y=i((0,r.useState)(o),2),E=y[0],w=y[1];(0,r.useEffect)(function(){d(t)},[t]),(0,r.useEffect)(function(){v(a)},[a]),(0,r.useEffect)(function(){w(o)},[o]);return n().createElement("div",{className:"asb-search-form"},n().createElement("form",{onSubmit:function(e){e.preventDefault(),m({q:g,cat:b,tags:E,page:1})},className:"asb-form"},n().createElement("div",{className:"asb-form-group"},n().createElement("label",{htmlFor:"asb-keyword",className:"asb-label"},"Keyword"),n().createElement("div",{className:"asb-input-wrapper"},n().createElement("input",{type:"text",id:"asb-keyword",className:"asb-input",placeholder:"Search posts...",value:g,onChange:function(e){var t=e.target.value;d(t)}}),n().createElement("button",{type:"submit",className:"asb-search-button"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n().createElement("circle",{cx:"11",cy:"11",r:"8"}),n().createElement("path",{d:"m21 21-4.35-4.35"})),n().createElement("span",null,"Search")))),n().createElement("div",{className:"asb-form-group"},n().createElement("label",{htmlFor:"asb-category",className:"asb-label"},"Category"),n().createElement("select",{id:"asb-category",className:"asb-select",value:b,onChange:function(e){var t=parseInt(e.target.value,10);v(t),m({q:g,cat:t,tags:E,page:1})}},n().createElement("option",{value:"0"},"All Categories"),c.map(function(e){return n().createElement("option",{key:e.id,value:e.id},e.name," (",e.count||0,")")}))),p&&s.length>0&&n().createElement("div",{className:"asb-form-group"},n().createElement("label",{className:"asb-label"},"Tags"),n().createElement("div",{className:"asb-tags-grid"},s.map(function(e){return n().createElement("label",{key:e.id,className:"asb-tag-checkbox"},n().createElement("input",{type:"checkbox",checked:E.includes(e.id),onChange:function(t){return r=e.id,n=t.target.checked?[].concat(function(e){if(Array.isArray(e))return u(e)}(a=E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||l(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]):E.filter(function(e){return e!==r}),w(n),void m({q:g,cat:b,tags:n,page:1});var a,r,n}}),n().createElement("span",null,e.name),n().createElement("span",{className:"asb-tag-count"},"(",e.count||0,")"))}))),(g||b>0||E.length>0)&&n().createElement("div",{className:"asb-form-actions"},n().createElement("button",{type:"button",className:"asb-clear-button",onClick:function(){d(""),v(0),w([]),m({q:"",cat:0,tags:[],page:1})}},"Clear All Filters"))))},p=function(e){var t=e.posts,a=e.total,r=e.pages,o=e.currentPage,c=e.loading,s=e.onPageChange,i=e.showPagination;return c?n().createElement("div",{className:"asb-loading"},n().createElement("div",{className:"asb-spinner"}),n().createElement("p",null,"Loading results...")):c||0!==t.length?n().createElement("div",{className:"asb-results"},n().createElement("div",{className:"asb-results-header"},n().createElement("p",{className:"asb-results-count"},"Found ",n().createElement("strong",null,a)," ",1===a?"result":"results")),n().createElement("div",{className:"asb-posts-grid"},t.map(function(e){return n().createElement("article",{key:e.id,className:"asb-post-card"},e.featured_image&&n().createElement("div",{className:"asb-post-image"},n().createElement("img",{src:e.featured_image,alt:e.title})),n().createElement("div",{className:"asb-post-content"},e.categories.length>0&&n().createElement("div",{className:"asb-post-categories"},e.categories.map(function(e){return n().createElement("span",{key:e.id,className:"asb-category-badge"},e.name)})),n().createElement("h2",{className:"asb-post-title"},n().createElement("a",{href:e.link},e.title)),n().createElement("div",{className:"asb-post-meta"},n().createElement("span",{className:"asb-post-author"},"By ",e.author),n().createElement("span",{className:"asb-post-date"},(t=e.date,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})))),n().createElement("div",{className:"asb-post-excerpt",dangerouslySetInnerHTML:{__html:e.excerpt}}),e.tags.length>0&&n().createElement("div",{className:"asb-post-tags"},e.tags.map(function(e){return n().createElement("span",{key:e.id,className:"asb-tag-badge"},"#",e.name)})),n().createElement("a",{href:e.link,className:"asb-read-more"},"Read More â†’")));var t})),i&&r>1&&n().createElement("div",{className:"asb-pagination"},n().createElement("button",{className:"asb-page-button asb-page-prev",onClick:function(){return s(o-1)},disabled:1===o,"aria-label":"Previous page"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n().createElement("polyline",{points:"15 18 9 12 15 6"})),"Previous"),n().createElement("div",{className:"asb-page-numbers"},function(){for(var e=[],t=1;t<=r;t++)1===t||t===r||t>=o-2&&t<=o+2?e.push(t):"..."!==e[e.length-1]&&e.push("...");return e}().map(function(e,t){return n().createElement(n().Fragment,{key:t},"..."===e?n().createElement("span",{className:"asb-page-ellipsis"},"..."):n().createElement("button",{className:"asb-page-number ".concat(e===o?"active":""),onClick:function(){return s(e)},"aria-label":"Page ".concat(e),"aria-current":e===o?"page":void 0},e))})),n().createElement("button",{className:"asb-page-button asb-page-next",onClick:function(){return s(o+1)},disabled:o===r,"aria-label":"Next page"},"Next",n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n().createElement("polyline",{points:"9 18 15 12 9 6"}))))):n().createElement("div",{className:"asb-no-results"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n().createElement("circle",{cx:"11",cy:"11",r:"8"}),n().createElement("path",{d:"m21 21-4.35-4.35"}),n().createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),n().createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"})),n().createElement("h3",null,"No posts found"),n().createElement("p",null,"Try adjusting your search filters or search terms"))};function f(){var e,t,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",n=a.toStringTag||"@@toStringTag";function o(a,r,n,o){var i=r&&r.prototype instanceof s?r:s,l=Object.create(i.prototype);return g(l,"_invoke",function(a,r,n){var o,s,i,l=0,u=n||[],m=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,a){return o=t,s=0,i=e,p.n=a,c}};function f(a,r){for(s=a,i=r,t=0;!m&&l&&!n&&t<u.length;t++){var n,o=u[t],f=p.p,g=o[2];a>3?(n=g===r)&&(i=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((n=a<2&&f<o[1])?(s=0,p.v=r,p.n=o[1]):f<g&&(n=a<3||o[0]>r||r>g)&&(o[4]=a,o[5]=r,p.n=g,s=0))}if(n||a>1)return c;throw m=!0,r}return function(n,u,g){if(l>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,g),s=u,i=g;(t=s<2?e:i)||!m;){o||(s?s<3?(s>1&&(p.n=-1),f(s,i)):p.n=i:p.v=i);try{if(l=2,o){if(s||(n="next"),t=o[n]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(i=TypeError("The iterator does not provide a '"+n+"' method"),s=1);o=e}else if((t=(m=p.n<0)?i:a.call(r,p))!==c)break}catch(t){o=e,s=1,i=t}finally{l=1}}return{value:t,done:m}}}(a,n,o),!0),l}var c={};function s(){}function i(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(g(t={},r,function(){return this}),t),m=l.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,g(e,n,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=l,g(m,"constructor",l),g(l,"constructor",i),i.displayName="GeneratorFunction",g(l,n,"GeneratorFunction"),g(m),g(m,n,"Generator"),g(m,r,function(){return this}),g(m,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m:p}})()}function g(e,t,a,r){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}g=function(e,t,a,r){function o(t,a){g(e,t,function(e){return this._invoke(t,a,e)})}t?n?n(e,t,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[t]=a:(o("next",0),o("throw",1),o("return",2))},g(e,t,a,r)}function d(e,t,a,r,n,o,c){try{var s=e[o](c),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(r,n)}function h(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function c(e){d(o,r,n,c,s,"next",e)}function s(e){d(o,r,n,c,s,"throw",e)}c(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,c,s=[],i=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{if(!i&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(l)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var y=function(e){var t=e.attributes,a=b((0,r.useState)(""),2),o=a[0],c=a[1],i=b((0,r.useState)(0),2),l=i[0],u=i[1],g=b((0,r.useState)([]),2),d=g[0],v=g[1],y=b((0,r.useState)(1),2),E=y[0],w=y[1],S=b((0,r.useState)([]),2),N=S[0],k=S[1],x=b((0,r.useState)([]),2),P=x[0],j=x[1],O=b((0,r.useState)([]),2),A=O[0],C=O[1],I=b((0,r.useState)(0),2),L=I[0],q=I[1],T=b((0,r.useState)(0),2),_=T[0],F=T[1],R=b((0,r.useState)(!1),2),M=R[0],U=R[1],G=b((0,r.useState)(!0),2),B=G[0],D=G[1];(0,r.useEffect)(function(){var e=new URLSearchParams(window.location.search),t=e.get("q")||"",a=parseInt(e.get("cat")||"0",10),r=e.getAll("tags[]").map(function(e){return parseInt(e,10)}),n=parseInt(e.get("page")||"1",10);c(t),u(a),v(r),w(n),W(),H(),$({q:t,cat:a,tags:r,page:n})},[]);var W=function(){var e=h(f().m(function e(){var t,a;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,s()({path:"/advanced-search/v1/categories"});case 1:t=e.v,k(t),e.n=3;break;case 2:e.p=2,a=e.v,console.error("Error loading categories:",a);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=h(f().m(function e(){var t,a;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,s()({path:"/advanced-search/v1/tags"});case 1:t=e.v,j(t),e.n=3;break;case 2:e.p=2,a=e.v,console.error("Error loading tags:",a);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=h(f().m(function e(a){var r,n,o,i;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return U(!0),c(a.q),u(a.cat),v(a.tags),w(a.page),J(a),e.p=1,r=new URLSearchParams,a.q&&r.append("q",a.q),a.cat>0&&r.append("cat",a.cat.toString()),a.tags.forEach(function(e){return r.append("tags[]",e.toString())}),r.append("page",a.page.toString()),r.append("per_page",t.postsPerPage.toString()),e.n=2,s()({path:"/advanced-search/v1/search?".concat(r.toString())});case 2:n=e.v,C(n.posts),q(n.total),F(n.pages),B||a.page===E||(o=document.querySelector(".advanced-search-block"))&&o.scrollIntoView({behavior:"smooth",block:"start"}),B&&D(!1),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Error performing search:",i),C([]),q(0),F(0);case 4:return e.p=4,U(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(_x){return e.apply(this,arguments)}}(),J=function(e){var t=new URL(window.location.href),a=new URLSearchParams;e.q&&a.set("q",e.q),e.cat>0&&a.set("cat",e.cat.toString()),e.tags.forEach(function(e){return a.append("tags[]",e.toString())}),e.page>1&&a.set("page",e.page.toString()),t.search=a.toString(),window.history.pushState({},"",t.toString())};return n().createElement("div",{className:"asb-app"},n().createElement(m,{keyword:o,categoryId:l,tagIds:d,page:E,categories:N,tags:P,onSearch:function(e){$(e)},showTags:t.showTags,showPagination:t.showPagination}),n().createElement(p,{posts:A,total:L,pages:_,currentPage:E,loading:M,onPageChange:function(e){$({q:o,cat:l,tags:d,page:e})},showPagination:t.showPagination}))};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".advanced-search-block").forEach(function(e){var t=e.getAttribute("data-attributes"),a=t?JSON.parse(t):{showTags:!0,showPagination:!0,postsPerPage:10};(0,o.H)(e).render(n().createElement(y,{attributes:a}))})})})();